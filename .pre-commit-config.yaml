repos:
-   repo: local
    hooks:
    -   id: black
        name: black
        language: system
        entry: uv run --extra dev black
        files: ^backend/
        types: [python]

    -   id: isort
        name: isort
        language: system
        entry: uv run --extra dev isort
        files: ^backend/
        types: [python]

    -   id: ruff
        name: ruff
        language: system
        entry: uv run --extra dev ruff check --fix
        files: ^backend/
        types: [python]

    -   id: pyrefly
        name: Pyrefly (backend type checking)
        language: system
        entry: bash -c 'uv run --extra dev pyrefly check backend/comicarr'
        pass_filenames: false
        types: [python]

    -   id: typescript
        name: TypeScript (frontend type checking)
        language: system
        entry: bash -c 'cd frontend && npx tsc --noEmit'
        pass_filenames: false
        files: ^frontend/

# Note: pytest is disabled in pre-commit due to:
# - pytest: Requires full project dependencies, better run via `make test-back`
